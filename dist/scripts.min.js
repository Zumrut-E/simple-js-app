let pokemonRepository=function(){let t=[];const e=window.$;function n(t){let n=e(".modal-body"),o=e(".modal-title");o.empty(),n.empty();let i=e("<h1>"+t.name+"</h1>"),l=e("<p><strong>Height: </strong>"+t.height+"</p>"),r=e('<img class="modal-img">');r.attr("src",t.imageUrl),o.append(i),n.append(l),n.append(r)}function o(e){"object"==typeof e&&"name"in e&&"string"==typeof e.name?t.push(e):console.log("pokemon is not correct")}function i(t){pokemonRepository.loadDetails(t).then((function(){n(t)}))}return{add:o,getAll:function(){return t},addListItem:function(t){let e=document.querySelector(".list-group"),n=document.createElement("li"),o=document.createElement("button");o.innerText=t.name,o.classList.add("button-class"),o.classList.add("btn-primary"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemon-modal"),n.classList.add("list-group-item"),n.appendChild(o),e.appendChild(n),o.addEventListener("click",(function(){i(t)}))},loadList:function(){return function(){let t=document.querySelector(".pokemon-list"),e=document.createElement("p");t.appendChild(e)}(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=30").then((function(t){return t.json()})).then((function(t){t.results.forEach((function(t){let e={name:t.name,detailsUrl:t.url};document.querySelector(".pokemon-list").innerHTML="",o(e)}))})).catch((function(t){console.error(t)}))},loadDetails:function(t){let e=t.detailsUrl;return fetch(e).then((function(t){return t.json()})).then((function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.types=e.types})).catch((function(t){console.error(t)}))},showDetails:i,showModal:n}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(t){pokemonRepository.addListItem(t)}))}));